webpackJsonp([1],{"/h9U":function(e,t){},0:function(e,t){},1:function(e,t){},"1ayX":function(e,t){},"1gPj":function(e,t){},2:function(e,t){},"32T1":function(e,t){},"4k3x":function(e,t){},"64oL":function(e,t){},"6OEp":function(e,t){},"9CmT":function(e,t){},AZE6:function(e,t){},AkEA:function(e,t){},BtwV:function(e,t){},EHwR:function(e,t){},G8To:function(e,t){},GBL8:function(e,t){},Hapu:function(e,t){},J5Yz:function(e,t){},MQLo:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},n,!1,function(e){a("nqvG")},null,null).exports,r=a("/ocq"),i=(a("pFYg"),a("//Fk")),s=a.n(i),c=function(e){for(var t=e+"=",a=document.cookie.split(";"),l=0;l<a.length;l++){var n=a[l].trim();if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""},u=a("mtWM"),d=a.n(u),p=d.a.create({baseURL:"/api",timeout:0});p.interceptors.response.use(function(e){return e},function(e){if(e.response)switch(e.response.status){case 400:l.default.prototype.$message({message:e.response.data.message||"请求参数异常",type:"error"});break;case 401:l.default.prototype.$message({message:e.response.data.message||"密码错误或账号不存在！",type:"warning",onClose:function(){}});break;case 403:l.default.prototype.$message({message:e.response.data.message||"无访问权限，请联系企业管理员",type:"warning"});break;default:l.default.prototype.$message({message:e.response.data.message||"服务端异常，请联系技术支持",type:"error"})}return s.a.reject(e)});var m=p,v=function(e){return m.post("/login/",e)},h=function(e){return m.post("/getFileList/",e)},f={name:"navmenu",data:function(){return{loginOrNot:!1}},created:function(){""==c("username")?(this.loginOrNot=!1,this.$router.push({path:"/login"})):this.loginOrNot=!0},methods:{logout:function(){!function(e){var t=new Date;t.setTime(t.getTime()-1);var a=c(e);""!=a&&(document.cookie=e+"="+a+";expires="+t.toGMTString())}("username"),this.$router.push({path:"/login"})}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"header",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content brand"},[a("router-link",{attrs:{to:"/"}},[e._v("能源大数据采集管理系统")])],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content lgout-options"},[e.loginOrNot?a("div",[a("el-button",{attrs:{type:"text"},on:{click:e.logout}},[a("i",{staticClass:"el-icon-back "}),e._v(" 退出")])],1):a("div",[a("router-link",{attrs:{to:"/login"}},[e._v("登录")]),e._v(" "),a("router-link",{attrs:{to:"/register"}},[e._v("注册")])],1)])])],1)},staticRenderFns:[]};var g=a("VU/8")(f,b,!1,function(e){a("mCUb")},"data-v-b3ac510e",null).exports,y={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.background})},staticRenderFns:[]};var x={name:"Login",components:{Background:a("VU/8")({name:"background",data:function(){return{background:{backgroundColor:"#f6f6f6",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",width:"100vw",height:"100vh",position:"absolute",top:"0px",left:"0px",zIndex:"-1"}}}},y,!1,function(e){a("S6dx")},"data-v-331f335a",null).exports},data:function(){return{labelPosition:"top",login:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,message:"密码不能为空",trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return l.default.prototype.$message({message:"格式错误",type:"error"}),!1;v(a.login).then(function(e){if("SUCCESS"==e.data.status){l="username",n=a.login.username,o=36e5,(r=new Date).setDate(r.getDate()+o),document.cookie=l+"="+escape(n)+(null==o?"":";expiredays="+r.toGMTString()),t.$router.push({path:"/"})}else alert(e.data.message);var l,n,o,r})})}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("Background"),e._v(" "),a("div",{attrs:{id:"login"}},[a("h2",{staticClass:"login-title"},[e._v("用户登录")]),e._v(" "),a("el-form",{ref:"login",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.login,rules:e.rules}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{clearable:""},model:{value:e.login.username,callback:function(t){e.$set(e.login,"username",t)},expression:"login.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.onSubmit("login")}}},[e._v("登录")])],1)],1)],1)],1)},staticRenderFns:[]};var w={name:"manage",components:{NavMenu:g,Login:a("VU/8")(x,_,!1,function(e){a("qOSo")},"data-v-aab5cc00",null).exports},create:function(){""!=c("username")&&this.$router.push({path:"/"})}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",[t("el-header",[t("NavMenu")],1),this._v(" "),t("el-main",[t("Login")],1)],1)},staticRenderFns:[]};var k=a("VU/8")(w,D,!1,function(e){a("AkEA")},"data-v-3c0fbfff",null).exports,M={name:"Content",data:function(){return{username:"",isAdmin:!1}},created:function(){this.username=c("username"),"admin"==this.username&&(this.isAdmin=!0)},methods:{}},P={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"Content"}})},staticRenderFns:[]};var A=a("VU/8")(M,P,!1,function(e){a("QruQ")},"data-v-6bb50d78",null).exports,S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"#545c64",height:"100%"},attrs:{id:"aside"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:e.isActive}},[a("el-menu-item",{attrs:{index:"/uploadfile"}},[a("i",{staticClass:"el-icon-upload2"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("本地上传")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/remotedownload"}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("远端上传")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/filesearch"}},[a("i",{staticClass:"el-icon-message"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("文件查看")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/needAnalyse"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("需量分析")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/newSearch"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("用能查询")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/usageSurvey"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("分项用能概况")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/usageStatistics"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("分项用能统计")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/usageComparision"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("时空相关性分析")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/predict"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("能耗预测")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/baseLine"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("能耗基线提取")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/cluster"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("用能模式挖掘")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/profileFeature"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("行为画像特性")])]),e._v(" "),a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("olap时空分析")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/qiepian"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("切片")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/zuanqu"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("钻取")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/xuanzhuan"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("旋转")])])],2),e._v(" "),a("el-menu-item",{attrs:{index:"/testapp"}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("测试模块")])])],1)],1)},staticRenderFns:[]};var C=a("VU/8")({name:"sidebar",data:function(){return{isActive:!0}},created:function(){}},S,!1,function(e){a("PXy/")},"data-v-492fd21c",null).exports,T={name:"MyFrame",components:{Sidebar:C,Navmenu:g}},F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"min-height":"100vh"}},[t("el-container",[t("el-header",[t("Navmenu")],1)],1),this._v(" "),t("el-container",{staticStyle:{height:"100%",position:"relative"}},[t("el-aside",{staticStyle:{"min-height":"100vh"},attrs:{width:"170px"}},[t("Sidebar")],1),this._v(" "),t("el-main",[this._t("default")],2)],1)],1)},staticRenderFns:[]};var L=a("VU/8")(T,F,!1,function(e){a("1ayX")},"data-v-b376acaa",null).exports,V={name:"manage",components:{MyFrame:L,NavMenu:g,Content:A,Sidebar:C},created:function(){""==c("username")&&this.$router.push({path:"/login"})}},I={render:function(){var e=this.$createElement;return(this._self._c||e)("MyFrame")},staticRenderFns:[]};var B=a("VU/8")(V,I,!1,function(e){a("9CmT")},"data-v-a48471de",null).exports,E={name:"ShowChart",methods:{clicked:function(){alert(scope.row.fileID)}}},O={render:function(){var e=this.$createElement;return(this._self._c||e)("el-button",{attrs:{type:"text",size:"small"},on:{click:this.clicked}},[this._v("显示图表")])},staticRenderFns:[]};var $=a("VU/8")(E,O,!1,function(e){a("GBL8")},"data-v-6b6e530e",null).exports,R=a("XLwt"),U={name:"UploadFile",components:{ShowChart:$},data:function(){return{fileList:[],tableData:[],isShow:!0,dialogVisibleForShow:!1,dialogVisibleForSetting:!1,sheets:[],form:{name:"可视化表格",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},created:function(){this.fetchData()},props:["showButton","showTable"],methods:{fetchData:function(){var e=this;h().then(function(t){(t.data.status="SUCCESS")?e.tableData=t.data.files:alert("文件列表加载失败")})},submitUpload:function(){this.$refs.upload.submit()},successUpload:function(e,t,a){this.tableData=e.files},errorUpload:function(e,t,a){alert("文件上传失败")},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},showSelect:function(e){var t=this;this.dialogVisibleForSetting=!0,d.a.get("/api/getBookTitle",{params:{fileID:e}}).then(function(e){t.sheets=e.data})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"UploadFile"}},[a("el-container",[a("el-header",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://localhost:8080/api/uploadFile/",border:"true","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-error":e.errorUpload,"on-success":e.successUpload,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)],1),e._v(" "),a("el-main",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fileName",label:"文件名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"传输进度"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{percentage:70}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"文件大小"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("10M")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"文件类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("源数据")])]}}])})],1)],1)])],1)],1)},staticRenderFns:[]};var N=a("VU/8")(U,z,!1,function(e){a("AZE6")},"data-v-7394099f",null).exports,W={name:"MiniUpload",components:{ShowChart:$},data:function(){return{fileList:[],tableData:[],isShow:!0,dialogVisibleForShow:!1,dialogVisibleForSetting:!1,sheets:[],form:{name:"可视化表格",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},created:function(){this.fetchData()},props:["showButton","showTable"],methods:{fetchData:function(){var e=this;h().then(function(t){(t.data.status="SUCCESS")?e.tableData=t.data.files:alert("文件列表加载失败")})},submitUpload:function(){this.$refs.upload.submit()},successUpload:function(e,t,a){this.tableData=e.files},errorUpload:function(e,t,a){alert("文件上传失败")},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},showSelect:function(e){var t=this;this.dialogVisibleForSetting=!0,d.a.get("/api/getBookTitle",{params:{fileID:e}}).then(function(e){t.sheets=e.data})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://localhost:8080/api/uploaddata/",border:"true","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-error":e.errorUpload,"on-success":e.successUpload,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)],1)},staticRenderFns:[]};var Z={name:"manage",components:{MyFrame:L,MiniUpload:a("VU/8")(W,q,!1,function(e){a("pS1x")},"data-v-7df7272f",null).exports,NavMenu:g,UploadFile:N,Sidebar:C},created:function(){""==c("username")&&this.$router.push({path:"/login"})}},j={render:function(){var e=this.$createElement,t=this._self._c||e;return t("MyFrame",[t("MiniUpload")],1)},staticRenderFns:[]};var X=a("VU/8")(Z,j,!1,function(e){a("zmoA")},"data-v-535d3715",null).exports,G=a("Xxa5"),H=a.n(G),Y=a("mvHQ"),J=a.n(Y),Q=a("exGp"),K=a.n(Q),ee=a("BO1k"),te=a.n(ee),ae=a("lHA8"),le=a.n(ae),ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"InquireData"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("查询")])],1),e._v(" "),a("div",{attrs:{id:"input_area"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.value6,callback:function(t){e.value6=t},expression:"value6"}}),e._v(" "),a("el-row",[a("el-button",[e._v("查询")])],1)],1),e._v(" "),a("div",{attrs:{id:"result_area"}})],1)},staticRenderFns:[]};a("VU/8")({name:"InquireData",data:function(){return{value6:""}},create:function(){},methods:{}},ne,!1,function(e){a("kEHK")},"data-v-67d5207a",null).exports;var oe={name:"FileTable",components:{ShowChart:$},data:function(){return{fileList:[],tableData:[],isShow:!0,dialogVisibleForShow:!1,dialogVisibleForSetting:!1,sheets:[],form:{name:"可视化表格",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},created:function(){this.fetchData()},props:["showButton","showTable"],methods:{fetchData:function(){var e=this;h().then(function(t){e.tableData=t.data,console.log(t)})},submitUpload:function(){this.$refs.upload.submit()},successUpload:function(e,t,a){this.tableData=e.files},errorUpload:function(e,t,a){alert("文件上传失败")},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},showSelect:function(e){var t=this;this.dialogVisibleForSetting=!0,d.a.get("/api/getBookTitle",{params:{fileID:e}}).then(function(e){t.sheets=e.data})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"filename",label:"文件名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"上传人",prop:"creator"}}),e._v(" "),a("el-table-column",{attrs:{label:"上传时间",prop:"createtime"}}),e._v(" "),a("el-table-column",{attrs:{label:"文件大小",prop:"size"}}),e._v(" "),a("el-table-column",{attrs:{label:"文件类型",prop:"type"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:"/api/downloadFile/"+t.row.fileID}},[a("span",[e._v("下载")])])]}}])})],1)],1)},staticRenderFns:[]};function ie(e,t){var a=new le.a;for(var l in e){var n=e[l];for(var o in n)if(t===o){var r=n[o];a.add(r),n[r]=n.value}}var i=[],s=!0,c=!1,u=void 0;try{for(var d,p=te()(a);!(s=(d=p.next()).done);s=!0){var m=d.value,v=!0,h=!1,f=void 0;try{for(var b,g=te()(e);!(v=(b=g.next()).done);v=!0){var y=b.value;for(var x in y)if(m===x){i.push(y);break}}}catch(e){h=!0,f=e}finally{try{!v&&g.return&&g.return()}finally{if(h)throw f}}}}catch(e){c=!0,u=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw u}}var _=[];_.push("date");var w=!0,D=!1,k=void 0;try{for(var M,P=te()(a);!(w=(M=P.next()).done);w=!0){var A=M.value;_.push(A)}}catch(e){D=!0,k=e}finally{try{!w&&P.return&&P.return()}finally{if(D)throw k}}return[_,i]}function se(e,t){for(var a=[],l=0;l<e.length-1;l++)a.push({type:t});return a}function ce(e){return new s.a(function(t){return setTimeout(t,e)})}var ue={name:"inquire",components:{MyFrame:L,FileTable:a("VU/8")(oe,re,!1,function(e){a("6OEp")},"data-v-39ee9940",null).exports,NavMenu:g,Sidebar:C},data:function(){return{date:"",measurePoint:"",location:"",tableData:[],view:{schemeRadio:"1",dimension:""},dialogSettingVisible:!1,dialogShowChartVisible:!1}},methods:{searchClicked:function(){var e=this;d.a.post("/api/searchData",{ilocation:e.location,imeasurePoint:e.measurePoint,idate:e.date}).then(function(t){e.tableData=t.data})},viewClicked:function(){var e=K()(H.a.mark(function e(){var t,a,l,n;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.dialogSettingVisible=!1,this.dialogShowChartVisible=!0,e.next=4,ce(1500);case 4:t=ie(this.tableData,this.view.dimension),a=t[0],this.tableData=t[1],console.log(a),l=R.init(document.getElementById("chart1")),n={legend:{},tooltip:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}},orient:"vertical"},dataset:{source:this.tableData,dimensions:a},xAxis:{type:"category"},yAxis:{type:"value"},series:se(a,this.view.schemeRadio)},l.setOption(n,!0),console.log(J()(this.tableData)),console.log(J()(n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),viewSettingClicked:function(){this.dialogSettingVisible=!0}},created:function(){}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:9}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"测点"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"位置"},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1)],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.viewSettingClicked}},[e._v("可视化")])],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"500"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"measurePoint",label:"测点",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"location",label:"位置",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"值",width:"180"}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"可视化方案",visible:e.dialogSettingVisible},on:{"update:visible":function(t){e.dialogSettingVisible=t}}},[a("el-row",[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"方案选择"}},[a("el-radio",{attrs:{label:"line"},model:{value:e.view.schemeRadio,callback:function(t){e.$set(e.view,"schemeRadio",t)},expression:"view.schemeRadio"}},[e._v("折线图")]),e._v(" "),a("el-radio",{attrs:{label:"bar"},model:{value:e.view.schemeRadio,callback:function(t){e.$set(e.view,"schemeRadio",t)},expression:"view.schemeRadio"}},[e._v("柱形图")])],1),e._v(" "),a("el-form-item",{attrs:{label:"x轴"}},[a("el-input",{attrs:{value:"日期",disabled:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:"y轴"}},[a("el-input",{attrs:{value:"值",disabled:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:"维度"}},[a("el-select",{attrs:{value:"location"},model:{value:e.view.dimension,callback:function(t){e.$set(e.view,"dimension",t)},expression:"view.dimension"}},[a("el-option",{attrs:{label:"位置",value:"location"}}),e._v(" "),a("el-option",{attrs:{label:"测点",value:"measurePoint"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"80%"},attrs:{type:"primary"},on:{click:e.viewClicked}},[e._v("确定")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"",visible:e.dialogShowChartVisible,width:"1000px"},on:{"update:visible":function(t){e.dialogShowChartVisible=t}}},[a("el-row",[a("div",{staticStyle:{height:"400px",width:"700px","margin-left":"auto","margin-right":"auto"},attrs:{id:"chart1"}})])],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(ue,de,!1,function(e){a("Hapu")},"data-v-7af464c4",null).exports,me={name:"RemoteDownload",data:function(){return{input6:"",input1:"",input2:"",tablaData:[],status:"",selectedMethod:""}},created:function(){this.getStatus()},methods:{startDownload:function(){var e=this;d.a.get("/task/start").then(function(){e.getStatus()})},stopDownload:function(){var e=this;d.a.get("/task/stop").then(function(){e.getStatus()})},getStatus:function(){var e=this;d.a.get("/task/status").then(function(t){var a=t.data.Msg;if(console.log("查询一次"),"true"===a){var l=[];l.push({name:"天合公司-kafka",ip:"202.120.40.111",port:"8080",description:"由天合公司提供的kafka数据源",status:"正在运行"}),e.tablaData=l}else e.tablaData=[]})}}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"RemoteDownload"}},[a("div",{attrs:{id:"input_area"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{placeholder:"请选择方案"},model:{value:e.selectedMethod,callback:function(t){e.selectedMethod=t},expression:"selectedMethod"}},[a("el-option",{attrs:{label:"天合公司-kafka"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{on:{click:e.startDownload}},[e._v("开始")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-table",{attrs:{data:e.tablaData}},[a("el-table-column",{attrs:{label:"名称",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"ip地址",prop:"ip"}}),e._v(" "),a("el-table-column",{attrs:{label:"端口号",prop:"port"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",prop:"description"}}),e._v(" "),a("el-table-column",{attrs:{label:"运行状态",prop:"status"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.stopDownload}},[e._v("停止")])],1)],1)],1)],1)])},staticRenderFns:[]};var he={name:"remoteDownload",components:{MyFrame:L,NavMenu:g,RemoteDownload:a("VU/8")(me,ve,!1,function(e){a("32T1")},"data-v-0592a0b9",null).exports,Sidebar:C},created:function(){}},fe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("MyFrame",[t("RemoteDownload")],1)},staticRenderFns:[]};var be=a("VU/8")(he,fe,!1,function(e){a("OJPc")},"data-v-6c1afba2",null).exports,ge={name:"FileSearch",components:{MyFrame:L,Sidebar:C,NavMenu:g},data:function(){return{input1:"",input2:"",input3:"",fileList:[],tableData:[],originTableData:[]}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this,t=this;h().then(function(a){t.tableData=a.data,e.originTableData=e.tableData,console.log(t.tableData)})},searchButton:function(){var e="",t="";try{var a=ye(this.input1[0].getDate()),l=this.input1[0].getFullYear(),n=ye(parseInt(this.input1[0].getMonth())+1).toString(),o=ye(this.input1[1].getDate()),r=this.input1[1].getFullYear(),i=ye(parseInt(this.input1[1].getMonth())+1).toString();e=l+"-"+n+"-"+a,t=r+"-"+i+"-"+o}catch(e){}var s=this.input2,c=this.input3,u=[],d=!0,p=!1,m=void 0;try{for(var v,h=te()(this.originTableData);!(d=(v=h.next()).done);d=!0){var f=v.value;f.filename.includes(c)&&f.creator.includes(s)&&(""===e||""===t?u.push(f):(console.log(f),console.log(e,t),e<=f.createtime&&t>=f.createtime&&u.push(f)))}}catch(e){p=!0,m=e}finally{try{!d&&h.return&&h.return()}finally{if(p)throw m}}this.tableData=u}}};function ye(e){return e.toString().padStart(2,"0")}var xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("div",{attrs:{id:"input_area"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{placeholder:"上传人","suffix-icon":"el-icon-date"},model:{value:e.input2,callback:function(t){e.input2=t},expression:"input2"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{placeholder:"文件名","suffix-icon":"el-icon-date"},model:{value:e.input3,callback:function(t){e.input3=t},expression:"input3"}})],1)],1),e._v(" "),a("el-row",[a("el-button",{on:{click:e.searchButton}},[e._v("查询")])],1)],1),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"filename",label:"文件名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"上传人",prop:"creator"}}),e._v(" "),a("el-table-column",{attrs:{label:"上传时间",prop:"createtime"}}),e._v(" "),a("el-table-column",{attrs:{label:"文件大小",prop:"size"}}),e._v(" "),a("el-table-column",{attrs:{label:"文件类型",prop:"type"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:"/api/downloadFile/"+t.row.fileid}},[a("span",[e._v("下载")])])]}}])})],1)],1)])},staticRenderFns:[]};var _e=a("VU/8")(ge,xe,!1,function(e){a("1gPj")},"data-v-52b85065",null).exports,we={name:"Handle",components:{MyFrame:L,Sidebar:C,Navmenu:g}},De={render:function(){var e=this.$createElement,t=this._self._c||e;return t("MyFrame",[t("el-button",[this._v("添加任务")]),this._v(" "),t("el-button",[this._v("开始任务")]),this._v(" "),t("el-table")],1)},staticRenderFns:[]};var ke=a("VU/8")(we,De,!1,function(e){a("G8To")},"data-v-246228e6",null).exports,Me={name:"MetaData",components:{MyFrame:L,Content:A,Sidebar:C,Navmenu:g},data:function(){return{tableData:[{field:"date",type:"string",logic:"时间",unit:"null"},{field:"线电流Ia",type:"float",logic:"测点",unit:"A"},{field:"线电流Ib",type:"float",logic:"测点",unit:"A"},{field:"A相电压",type:"float",logic:"测点",unit:"V"},{field:"B相电压",type:"float",logic:"测点",unit:"V"},{field:"location",type:"string",logic:"地点",unit:"null"}]}}},Pe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("MyFrame",[t("el-table",{attrs:{data:this.tableData}},[t("el-table-column",{attrs:{prop:"field",label:"字段",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"type",label:"数据类型",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"logic",label:"逻辑分类",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"unit",label:"单位",width:"180"}})],1)],1)},staticRenderFns:[]};var Ae=a("VU/8")(Me,Pe,!1,function(e){a("rnOW")},"data-v-32f82620",null).exports,Se={name:"conceptLayer",components:{MyFrame:L,Sidebar:C,Navmenu:g},data:function(){return{tableData:[],dialogFormVisible:!1,addingFlag:!0,showid:!0,form:{id:"",concept:"",englishname:"",type:"",description:""},conceptTypeList:[],formLabelWidth:"120px"}},created:function(){this.getTable()},methods:{clearForm:function(){for(var e in this.form)this.form[e]=""},getTable:function(){var e=this;d.a.post("/api/getConcept").then(function(t){e.tableData=t.data,console.log(t.data)}),d.a.post("/api/getConceptType").then(function(t){var a=[],l=!0,n=!1,o=void 0;try{for(var r,i=te()(t.data);!(l=(r=i.next()).done);l=!0){var s=r.value;a.push(s.concepttype)}}catch(e){n=!0,o=e}finally{try{!l&&i.return&&i.return()}finally{if(n)throw o}}e.conceptTypeList=a})},handleDelete:function(e){console.log();var t=this;d.a.post("/api/deleteConcept",{id:e}).then(function(e){t.getTable()})},openForm:function(e,t){if(this.dialogFormVisible=!0,!0===e)this.clearForm(),this.addingFlag=!0,this.showid=!1;else{for(var a in this.showid=!0,this.form)this.form[a]=t[a];this.addingFlag=!1,console.log(t)}},sendForm:function(e){this.dialogFormVisible=!1;var t=this;!0===e?d.a.post("/api/addConcept",t.form).then(function(e){t.getTable()}):d.a.post("/api/changeConcept",t.form).then(function(e){t.getTable()})}}},Ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openForm(!0,"")}}},[e._v("增加")]),e._v(" "),a("el-dialog",{attrs:{title:"",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showid,expression:"showid"}],attrs:{label:"主键","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"概念名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.concept,callback:function(t){e.$set(e.form,"concept",t)},expression:"form.concept"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"英文名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.englishname,callback:function(t){e.$set(e.form,"englishname",t)},expression:"form.englishname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":e.formLabelWidth}},[a("el-select",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.conceptTypeList,function(e){return a("el-option",{key:e,attrs:{value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendForm(e.addingFlag)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id",label:"主键"}}),e._v(" "),a("el-table-column",{attrs:{prop:"concept",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"englishname",label:"英文名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.openForm(!1,t.row)}}},[e._v("编辑\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1)],1)},staticRenderFns:[]};var Te=a("VU/8")(Se,Ce,!1,function(e){a("SeDW")},"data-v-0d90d1d4",null).exports,Fe={name:"logicLayer",components:{MyFrame:L,Sidebar:C,Navmenu:g},data:function(){return{tableData:[],dialogFormVisible:!1,addingFlag:!0,showid:!0,form:{id:"",logic:"",concept:"",englishname:"",type:"",description:"",conceptid:""},logicTypeList:[],conceptObj:{},allConceptFromBack:[],formLabelWidth:"120px"}},created:function(){this.getTable()},methods:{clearForm:function(){for(var e in this.form)this.form[e]=""},getTable:function(){var e=this;d.a.post("/api/getLogic").then(function(t){e.tableData=t.data,console.log(t.data)}),d.a.post("/api/getLogicType").then(function(t){var a=[],l=!0,n=!1,o=void 0;try{for(var r,i=te()(t.data);!(l=(r=i.next()).done);l=!0){var s=r.value;a.push(s.logictype)}}catch(e){n=!0,o=e}finally{try{!l&&i.return&&i.return()}finally{if(n)throw o}}e.logicTypeList=a}),this.addLackNameFromid()},handleDelete:function(e){var t=this;d.a.post("/api/deleteLogic",{id:e}).then(function(e){t.getTable()})},openForm:function(e,t){if(this.dialogFormVisible=!0,!0===e)this.clearForm(),this.addingFlag=!0,this.showid=!1;else{for(var a in this.showid=!0,this.form)this.form[a]=t[a];this.addingFlag=!1,console.log(t)}},sendForm:function(e){this.dialogFormVisible=!1;var t=this;for(var a in this.conceptObj)if(this.form.concept===this.conceptObj[a]){this.form.conceptid=a;break}!0===e?d.a.post("/api/addLogic",t.form).then(function(e){t.getTable()}):d.a.post("/api/changeLogic",t.form).then(function(e){t.getTable()})},addLackNameFromid:function(){var e=this;d.a.post("/api/getConcept").then(function(t){e.allConceptFromBack=t.data;var a=!0,l=!1,n=void 0;try{for(var o,r=te()(e.allConceptFromBack);!(a=(o=r.next()).done);a=!0){var i=o.value;console.log(i),e.conceptObj[i.id]=i.concept}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}var s=!0,c=!1,u=void 0;try{for(var d,p=te()(e.tableData);!(s=(d=p.next()).done);s=!0){var m=d.value;m.concept=e.conceptObj[m.conceptid];var v=m.englishname;m.englishname="",m.englishname=v}}catch(e){c=!0,u=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw u}}}),console.log(this.tableData)}}},Le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openForm(!0,"")}}},[e._v("增加")]),e._v(" "),a("el-dialog",{attrs:{title:"",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showid,expression:"showid"}],attrs:{label:"主键","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"逻辑名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.logic,callback:function(t){e.$set(e.form,"logic",t)},expression:"form.logic"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"英文名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.englishname,callback:function(t){e.$set(e.form,"englishname",t)},expression:"form.englishname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":e.formLabelWidth}},[a("el-select",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.logicTypeList,function(e){return a("el-option",{key:e,attrs:{value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属概念","label-width":e.formLabelWidth}},[a("el-select",{model:{value:e.form.concept,callback:function(t){e.$set(e.form,"concept",t)},expression:"form.concept"}},e._l(e.conceptObj,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendForm(e.addingFlag)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id",label:"主键"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logic",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"englishname",label:"英文名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"concept",label:"概念"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.openForm(!1,t.row)}}},[e._v("编辑\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1)],1)},staticRenderFns:[]};var Ve=a("VU/8")(Fe,Le,!1,function(e){a("VBro")},"data-v-c3534672",null).exports,Ie={name:"physicsLayer",components:{MyFrame:L,Sidebar:C,Navmenu:g},data:function(){return{tableData:[],dialogFormVisible:!1,addingFlag:!0,showid:!0,form:{physics:"",id:"",englishname:"",type:"",description:"",concept:"",conceptid:"",logic:"",logicid:""},physicsTypeList:[],conceptObj:{},logicObj:{},allLogicFromBack:[],formLabelWidth:"120px"}},created:function(){this.getTable()},methods:{clearForm:function(){for(var e in this.form)this.form[e]=""},getTable:function(){var e=this;d.a.post("/api/getPhysics").then(function(t){e.tableData=t.data,console.log(t.data)}),d.a.post("/api/getPhysicsType").then(function(t){var a=[],l=!0,n=!1,o=void 0;try{for(var r,i=te()(t.data);!(l=(r=i.next()).done);l=!0){var s=r.value;a.push(s.physicstype)}}catch(e){n=!0,o=e}finally{try{!l&&i.return&&i.return()}finally{if(n)throw o}}e.physicsTypeList=a}),this.addLackNameFromid()},handleDelete:function(e){var t=this;d.a.post("/api/deletePhysics",{id:e}).then(function(e){t.getTable()})},openForm:function(e,t){if(this.dialogFormVisible=!0,!0===e)this.clearForm(),this.addingFlag=!0,this.showid=!1;else{for(var a in this.showid=!0,this.form)this.form[a]=t[a];this.addingFlag=!1,console.log(t)}},sendForm:function(e){this.dialogFormVisible=!1;var t=this;for(var a in this.logicObj)if(this.form.logic===this.logicObj[a]){this.form.logicid=a;break}!0===e?d.a.post("/api/addPhysics",t.form).then(function(e){t.getTable()}):d.a.post("/api/changePhysics",t.form).then(function(e){t.getTable()})},addLackNameFromid:function(){var e=this;d.a.post("/api/getLogic").then(function(t){e.allLogicFromBack=t.data;var a=!0,l=!1,n=void 0;try{for(var o,r=te()(e.allLogicFromBack);!(a=(o=r.next()).done);a=!0){var i=o.value;console.log(i),e.logicObj[i.id]=i.logic}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}var s=!0,c=!1,u=void 0;try{for(var d,p=te()(e.tableData);!(s=(d=p.next()).done);s=!0){var m=d.value;m.logic=e.logicObj[m.logicid];var v=m.englishname;m.englishname="",m.englishname=v}}catch(e){c=!0,u=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw u}}}),console.log(this.tableData)}}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.openForm(!0,"")}}},[e._v("增加")]),e._v(" "),a("el-dialog",{attrs:{title:"",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showid,expression:"showid"}],attrs:{label:"主键","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",readonly:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物理名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.physics,callback:function(t){e.$set(e.form,"physics",t)},expression:"form.physics"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"英文名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.englishname,callback:function(t){e.$set(e.form,"englishname",t)},expression:"form.englishname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型","label-width":e.formLabelWidth}},[a("el-select",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.physicsTypeList,function(e){return a("el-option",{key:e,attrs:{value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属逻辑","label-width":e.formLabelWidth}},[a("el-select",{model:{value:e.form.logic,callback:function(t){e.$set(e.form,"logic",t)},expression:"form.logic"}},e._l(e.logicObj,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendForm(e.addingFlag)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id",label:"主键"}}),e._v(" "),a("el-table-column",{attrs:{prop:"physics",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"englishname",label:"英文名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logic",label:"逻辑"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.openForm(!1,t.row)}}},[e._v("编辑\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除\n        ")])]}}])})],1)],1)},staticRenderFns:[]};var Ee=a("VU/8")(Ie,Be,!1,function(e){a("imTP")},"data-v-312aa6ee",null).exports,Oe={name:"lyftest",data:function(){return{tableData:[]}},mounted:function(){var e={a:{temp:{tempChild:[1,2,3,4],ttt:"123"}},b:{e:[1,2,3,4,5],f:"fuck"}};console.log(e),this.tableData=e,document.getElementById("text").innerHTML=J()(e,void 0,2)}},$e={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:this.tableData}},[t("el-table-column",{attrs:{prop:"index",label:"序列",width:"180",type:"index"}}),this._v(" "),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),this._v(" "),t("el-table-column",{attrs:{prop:"value",label:"地址"}})],1),this._v(" "),t("pre",{attrs:{id:"text"}})],1)},staticRenderFns:[]},Re=a("VU/8")(Oe,$e,!1,null,null,null).exports,Ue={name:"needAnalyse",components:{MyFrame:L,Navmenu:g,Sidebar:C},methods:{handleChange:function(e){console.log(e)}},data:function(){return{tableData:[{a1:"1#配电400V进电",a2:"300",a3:"72.67",a4:"100%",a5:"0",a6:"0",a7:"0",a8:"0",a9:"0",a10:"0",a11:"0"},{a1:"2#配电400V进电",a2:"300",a3:"72.67",a4:"100%",a5:"0",a6:"0",a7:"0",a8:"0",a9:"0",a10:"0",a11:"0"}],date:"",location:"",factory:"",line:"",options:[{value:"1",label:"1",children:[{value:"a1",label:"a1"}]},{value:"2",label:"2",children:[{value:"b1",label:"b1"},{value:"c1",label:"c1"}]}]}},mounted:function(){var e={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:["<40%","40%-60%","60%-70%","70%-80%","80%-90%","90%-100%","100%-150%",">=150%"]},series:[{name:"值域时间占比",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:335,name:"<40%"},{value:310,name:"40%-60%"},{value:310,name:"60%-70%"},{value:234,name:"70%-80%"},{value:135,name:"80%-90%"},{value:1548,name:"90%-100%"},{value:100,name:"100%-150%"},{value:245,name:">=150%"}],center:["60%","50%"]}],toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}}},t=R.init(document.getElementById("bar1")),a=R.init(document.getElementById("bar2"));t.setOption(e),a.setOption(e)}},ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("筛选")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"4"}},[a("el-cascader",{attrs:{options:e.options,props:{expandTrigger:"hover"},placeholder:"请选择进线"},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),a("el-col",{attrs:{span:"4",push:"2"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"10"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:"11"}},[a("el-card",{staticStyle:{width:"100%"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("1#配电400V进电")])]),e._v(" "),a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"bar1"}})])],1),e._v(" "),a("el-col",{attrs:{span:"11",push:"1"}},[a("el-card",{staticStyle:{width:"100%"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("2#配电400V进电")])]),e._v(" "),a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"bar2"}})])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"24"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"a1",label:"进线名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a2",label:"契约值"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a3",label:"最大值&时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a4",label:"<40%>"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a5",label:"40%-60%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a6",label:"60%-70%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a7",label:"70%-80%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a8",label:"80%-90%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a9",label:"90%-100%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a10",label:"100%-150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"a11",label:">=150%"}})],1)],1)],1)],1)},staticRenderFns:[]};var Ne=a("VU/8")(Ue,ze,!1,function(e){a("64oL")},"data-v-28e1c7a2",null).exports,We=a("c/Tr"),qe=a.n(We),Ze=a("t4zo"),je=a.n(Ze),Xe=a("uXZL"),Ge=a.n(Xe),He={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"date",label:"时间",width:"220"}}),e._v(" "),a("el-table-column",{attrs:{prop:"measurePoint",label:"测点",width:"220"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customer",label:"用户",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"line",label:"进线",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device",label:"设备",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"值",width:"220"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.current_change}})],1)],1)},staticRenderFns:[]};var Ye=a("VU/8")({name:"olapTable",data:function(){return{total:0,pagesize:10,currentPage:1}},props:["tableData"],methods:{current_change:function(e){this.currentPage=e},mounted:function(){}},watch:{tableData:function(e){this.total=e.length}}},He,!1,function(e){a("iWyc")},"data-v-506599a1",null).exports;var Je={name:"newSearch",components:{OlapTable:Ye,MyFrame:L,Sidebar:C,Navmenu:g},data:function(){return{date:"",location:"",factory:"",line:"",device:"",allMeasurePoint:"",measurePoint:"",measurePoint1:"",measurePoint2:"",idate:"",tableData:"",chartRef:"",metaDataTree:"",selectedMetaData:""}},methods:{getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},exportExcel:function(){var e=Ge.a.utils.table_to_book(document.getElementById("showTable")),t=Ge.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{je.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"示例表格.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},fixDateFormat:function(e){return e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6,8)},getValueByMeasurePoint:function(e){var t=[],a=!0,l=!1,n=void 0;try{for(var o,r=te()(this.tableData);!(a=(o=r.next()).done);a=!0){var i=o.value;i.measurePoint===e&&t.push(i.value)}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}return t},getAllDate:function(){var e=new le.a,t=!0,a=!1,l=void 0;try{for(var n,o=te()(this.tableData);!(t=(n=o.next()).done);t=!0){var r=n.value;e.add(r.date)}}catch(e){a=!0,l=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw l}}return qe()(e)},searchClicked:function(){var e=this;d.a.post("/api/getSpecificData",{factory:e.factory,line:e.line,device:e.device,timestamp:e.date}).then(function(t){e.tableData=t.data})},generateChart:function(){this.getAllDate();var e=this.getValueByMeasurePoint(this.measurePoint1),t={title:{text:"电气量曲线"},tooltip:{trigger:"axis"},legend:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",data:this.getAllDate()},yAxis:{type:"value"},series:[{data:e,type:"line",name:this.measurePoint1}]};R.init(document.getElementById("chart")).setOption(t,!0)},compareChart:function(){this.getAllDate();var e=this.getValueByMeasurePoint(this.measurePoint1),t=this.getValueByMeasurePoint(this.measurePoint2),a={title:{text:"电气量曲线"},tooltip:{trigger:"axis"},legend:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",data:this.getAllDate()},yAxis:{type:"value"},series:[{data:e,type:"line",name:this.measurePoint1},{data:t,type:"line",name:this.measurePoint2}]};R.init(document.getElementById("chart")).setOption(a,!0)},clearChart:function(){this.measurePoint1="",this.measurePoint2="";var e=R.init(document.getElementById("chart"));this.$chart=e;e.setOption({title:{text:"电气量曲线",subtext:"初始案例"},tooltip:{trigger:"axis"},legend:{data:["电气量1","电气量2"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"电气量1",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"电气量2",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}]},!0)},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data})},handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},newSearchClicked:function(){var e=this;d.a.post("/api/getSpecificData",{factory:this.factory,line:this.line,device:this.device,timestamp:this.date}).then(function(t){e.tableData=t.data})}},mounted:function(){R.init(document.getElementById("chart")).setOption({title:{text:"电气量曲线",subtext:"初始案例"},tooltip:{trigger:"axis"},legend:{data:["电气量1","电气量2"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"电气量1",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"电气量2",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}]},!0),this.getMetaData(),this.getAllMeasurePoint()}},Qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("筛选")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"10",push:"3"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"4"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.newSearchClicked}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"24"}},[a("el-table",{attrs:{id:"showTable",data:e.tableData,border:"",stripe:"",height:"300","max-height":"300"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"measurePoint",label:"测点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"值"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-card",{staticStyle:{height:"400px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("其他功能")])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-select",{attrs:{value:"",placeholder:"请选择电气量1"},model:{value:e.measurePoint1,callback:function(t){e.measurePoint1=t},expression:"measurePoint1"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-select",{attrs:{value:"",placeholder:"请选择电气量2"},model:{value:e.measurePoint2,callback:function(t){e.measurePoint2=t},expression:"measurePoint2"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"100px"},attrs:{gutter:"30"}},[a("el-col",{attrs:{span:11}},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出表格")])],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-button",{attrs:{type:"primary"},on:{click:e.generateChart}},[e._v("生成图表")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:"30"}},[a("el-col",{attrs:{span:11}},[a("el-button",{attrs:{type:"primary"},on:{click:e.clearChart}},[e._v("重置图表")])],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-button",{attrs:{type:"primary"},on:{click:e.compareChart}},[e._v("数据对比")])],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:"18",push:"1"}},[a("div",{staticStyle:{height:"400px"},attrs:{id:"chart"}})])],1)],1)},staticRenderFns:[]};var Ke=a("VU/8")(Je,Qe,!1,function(e){a("qWEi")},"data-v-154f8059",null).exports,et={name:"usageSurvey",components:{MyFrame:L,Navmenu:g,Sidebar:C},data:function(){return{manufacture:"",date:""}},mounted:function(){var e=document.getElementById("chart1"),t=document.getElementById("chart2"),a=document.getElementById("chart3"),l=document.getElementById("chart4");e=R.init(e),t=R.init(t),a=R.init(a),l=R.init(l);e.setOption({title:{text:"日分项用能\n同比分析"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["今日","昨日"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:["照明插座","特殊","空调用电","动力"]},series:[{name:"今日",type:"bar",data:[100,96,22,45]},{name:"昨日",type:"bar",data:[65,40,31,55]}]}),t.setOption({title:{text:"本月分项用能排名"},legend:{},tooltip:{},dataset:{source:[["product","照明插座","空调用电","动力用电","特殊用电"],["办公楼",43.3,85.8,93.7,22.4],["门卫室",83.1,73.4,55.1,11.2],["三层",86.4,65.2,82.5,43.4],["一层",72.4,53.9,39.1,30.3]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"},{type:"bar"},{type:"bar"}]}),a.setOption({title:{text:"过去31天分项用能饼图",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["照明插座","空调用电","动力","特殊"]},series:[{type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"照明插座"},{value:310,name:"空调用电"},{value:234,name:"动力"},{value:135,name:"特殊"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),l.setOption({title:{text:"过去7天分\n项用能趋势"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["动力","空调用电","特殊","照明插座"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"]}],yAxis:[{type:"value"}],series:[{name:"动力",type:"bar",stack:"广告",data:[320,332,301,334,390,330,320]},{name:"空调用电",type:"bar",stack:"广告",data:[120,132,101,134,90,230,210]},{name:"特殊",type:"bar",stack:"广告",data:[220,182,191,234,290,330,310]},{name:"照明插座",type:"bar",stack:"广告",data:[150,232,201,154,190,330,410]}]})}},tt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("筛选")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"6"}},[a("el-select",{attrs:{value:"",placeholder:"厂商选择"},model:{value:e.manufacture,callback:function(t){e.manufacture=t},expression:"manufacture"}},[a("el-option",{attrs:{value:"抓毛车间",label:"天合紫竹园区"}}),e._v(" "),a("el-option",{attrs:{value:"食堂",label:"天合印染"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:"10"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"4"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"9"}},[a("el-card",[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart1"}})])],1),e._v(" "),a("el-col",{attrs:{span:"14",push:"1"}},[a("el-card",[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart2"}})])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"9"}},[a("el-card",[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart3"}})])],1),e._v(" "),a("el-col",{attrs:{span:"14",push:"1"}},[a("el-card",[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart4"}})])],1)],1)],1)},staticRenderFns:[]};var at=a("VU/8")(et,tt,!1,function(e){a("BtwV")},"data-v-827e68e2",null).exports,lt={name:"predict",components:{MyFrame:L,Navmenu:g,Sidebar:C},data:function(){return{factory:"",line:"",device:"",measurePoint:"",algorithm:"",date:"",trueData:"",predictData:"",metaDataTree:"",selectedMetaData:"",allMeasurePoint:[],chartOption:{}}},methods:{addCompare:function(){console.log("add compare")},handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data}),console.log(this.metaDataTree)},getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},searchClicked:function(){var e=document.getElementById("chart1");e=R.init(e);var t=this;d.a.post("/api/predict",{factory:t.factory,line:t.line,device:t.device,measurePoint:t.measurePoint}).then(function(a){var l=a.data;t.trueData=l.y_true,t.predictData=l.y_pred,console.log(t.trueData),console.log(t.predictData),console.log([qe()({length:4e3},function(e,t){return t})]);var n={toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},title:{text:"厂商用能预测图"},legend:{},tooltip:{trigger:"axis"},xAxis:{type:"category",data:qe()({length:3835},function(e,t){return t})},yAxis:{scale:!0},series:[{name:"真实值",type:"line",smooth:"true",data:t.trueData},{name:"预测值",type:"line",smooth:"true",lineStyle:{type:"dashed"},data:t.predictData}]};e.setOption(n)})}},mounted:function(){this.getMetaData(),this.getAllMeasurePoint()}},nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("筛选")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"5"}},[a("el-select",{attrs:{value:"",placeholder:"测点选择"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:"5",push:"10"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("显示")])],1),e._v(" "),a("el-col",{attrs:{span:"5"}})],1)],1),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart1"}})],1)},staticRenderFns:[]};var ot=a("VU/8")(lt,nt,!1,function(e){a("l6DV")},"data-v-f4f98548",null).exports,rt={name:"usageComparision",components:{MyFrame:L,Navmenu:g,Sidebar:C},data:function(){return{manufacture:"",date:"",selectedDevices:["照明插座","空调用电","动力用电","特殊用电"],selectedManufacture:""}},mounted:function(){var e=document.getElementById("chart1"),t=document.getElementById("chart2"),a=document.getElementById("chart3"),l=document.getElementById("chart4");e=R.init(e),t=R.init(t),a=R.init(a),l=R.init(l);e.setOption({title:{text:"日分项用能\n同比分析"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["今日","昨日"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:["照明插座","特殊","空调用电","动力"]},series:[{name:"今日",type:"bar",data:[100,96,22,45]},{name:"昨日",type:"bar",data:[65,40,31,55]}]}),t.setOption({title:{text:"本月分项用能排名"},legend:{},tooltip:{},dataset:{source:[["product","照明插座","空调用电","动力用电","特殊用电"],["办公楼",43.3,85.8,93.7,22.4],["门卫室",83.1,73.4,55.1,11.2],["三层",86.4,65.2,82.5,43.4],["一层",72.4,53.9,39.1,30.3]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"},{type:"bar"},{type:"bar"}]}),a.setOption({title:{text:"过去31天分项用能饼图",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["照明插座","空调用电","动力","特殊"]},series:[{type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"照明插座"},{value:310,name:"空调用电"},{value:234,name:"动力"},{value:135,name:"特殊"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),l.setOption({title:{text:"过去7天分\n项用能趋势"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["动力","空调用电","特殊","照明插座"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"]}],yAxis:[{type:"value"}],series:[{name:"动力",type:"bar",stack:"广告",data:[320,332,301,334,390,330,320]},{name:"空调用电",type:"bar",stack:"广告",data:[120,132,101,134,90,230,210]},{name:"特殊",type:"bar",stack:"广告",data:[220,182,191,234,290,330,310]},{name:"照明插座",type:"bar",stack:"广告",data:[150,232,201,154,190,330,410]}]})}},it={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("筛选")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"6"}},[a("el-select",{staticStyle:{"margin-bottom":"10px"},attrs:{value:"",placeholder:"厂商选择"},model:{value:e.selectedManufacture,callback:function(t){e.selectedManufacture=t},expression:"selectedManufacture"}},[a("el-option",{attrs:{value:"抓毛车间",label:"常州天和印染有限公司"}}),e._v(" "),a("el-option",{attrs:{value:"食堂",label:"天合紫竹园区配电站"}})],1),e._v(" "),a("el-checkbox-group",{model:{value:e.selectedDevices,callback:function(t){e.selectedDevices=t},expression:"selectedDevices"}},[a("el-checkbox",{attrs:{label:"照明插座"}}),e._v(" "),a("el-checkbox",{attrs:{label:"空调用电"}}),e._v(" "),a("el-checkbox",{attrs:{label:"动力用电"}}),e._v(" "),a("el-checkbox",{attrs:{label:"特殊用电"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:"10",push:"1"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"4"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"9"}},[a("el-card",[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart1"}})])],1),e._v(" "),a("el-col",{attrs:{span:"14",push:"1"}},[a("el-card",[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart2"}})])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"9"}},[a("el-card",[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart3"}})])],1),e._v(" "),a("el-col",{attrs:{span:"14",push:"1"}},[a("el-card",[a("div",{staticStyle:{height:"300px"},attrs:{id:"chart4"}})])],1)],1)],1)},staticRenderFns:[]};var st=a("VU/8")(rt,it,!1,function(e){a("/h9U")},"data-v-36cc3ecb",null).exports,ct={name:"usageStatistics",components:{MyFrame:L,Navmenu:g,Sidebar:C},data:function(){return{factory:"",line:"",device:"",measurePoint:"",algorithm:"",date:"",metaDataTree:"",selectedMetaData:"",tableData:[],allMeasurePoint:[],correlationData:[]}},methods:{handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data}),console.log(this.metaDataTree)},getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},searchClicked:function(){var e=this;d.a.post("/api/correlation",{factory:this.factory,line:this.line,device:this.device,measurePoint:this.measurePoint}).then(function(t){var a=JSON.parse(t.data.correlationValue),l=JSON.parse(t.data.correlationData),n=[];for(var o in a){var r={};r.device=o,r.value=a[o],n.push(r)}e.tableData=n,e.correlationData=l,e.generateChart()})},generateChart:function(){var e=[];for(var t in this.correlationData)if("timestamp"!==t){var a=t,l={};l.name=a,l.type="line",l.smooth="true",l.data=this.correlationData[a],e.push(l)}console.log(e);var n={title:{text:"厂商用能同比分析"},legend:{},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:this.correlationData.timestamp},yAxis:{scale:!0},series:e,toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}}},o=R.init(document.getElementById("chart1"));console.log(this.correlationData.timestamp),o.setOption(n)}},mounted:function(){this.getAllMeasurePoint(),this.getMetaData()}},ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("筛选")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"5"}},[a("el-select",{attrs:{value:"",placeholder:"测点选择"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:"5",push:"10"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("显示")])],1)],1)],1),e._v(" "),a("el-table",{attrs:{id:"showTable",data:e.tableData,border:"",stripe:"",height:"300","max-height":"300"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device",label:"设备"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"相关性"}})],1),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart1"}})],1)},staticRenderFns:[]};var dt=a("VU/8")(ct,ut,!1,function(e){a("fnRH")},"data-v-b8c63e20",null).exports,pt={name:"cluster",components:{MyFrame:L},data:function(){return{factory:"",line:"",device:"",measurePoint:"",algorithm:"",date:"",metaDataTree:"",selectedMetaData:"",allMeasurePoint:[],hourX:"",dayX:"",hourList:[],dayList:[]}},methods:{handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data}),console.log(this.metaDataTree)},getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},generateSeries:function(e){var t=[];for(var a in e){var l={name:"cluster"+a.toString(),type:"line",smooth:"true",data:e[a]};t.push(l)}return t},searchClicked:function(){var e=document.getElementById("chart1"),t=document.getElementById("chart2");e=R.init(e),t=R.init(t);var a=this;d.a.post("/api/cluster",{factory:a.factory,line:a.line,device:a.device,measurePoint:a.measurePoint}).then(function(l){var n=l.data;a.hourX=n.hourX,a.dayX=n.dayX,a.dayList=n.dayList,a.hourList=n.hourList;var o={toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},title:{text:"多时间尺度用能模式挖掘（小时）"},legend:{},tooltip:{trigger:"axis"},xAxis:{type:"category",data:a.hourX},yAxis:{scale:!0},series:a.generateSeries(a.hourList)},r={toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},title:{text:"多时间尺度用能模式挖掘（天）"},legend:{},tooltip:{trigger:"axis"},xAxis:{type:"category",data:a.dayX},yAxis:{scale:!0},series:a.generateSeries(a.dayList)};e.setOption(o),t.setOption(r)})}},mounted:function(){this.getMetaData(),this.getAllMeasurePoint()}},mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("筛选")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"5"}},[a("el-select",{attrs:{value:"",placeholder:"测点选择"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:"5",push:"10"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("显示")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart1"}}),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart2"}})],1)},staticRenderFns:[]};var vt=a("VU/8")(pt,mt,!1,function(e){a("cevi")},"data-v-deb0cc40",null).exports,ht={name:"baseLine",components:{MyFrame:L},data:function(){return{factory:"",line:"",device:"",measurePoint:"",algorithm:"",date:"",metaDataTree:"",selectedMetaData:"",allMeasurePoint:[],hourX:"",dayX:"",hourList:[],dayList:[]}},methods:{handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data}),console.log(this.metaDataTree)},getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},generateSeries:function(e){var t=[];for(var a in e){var l={name:"cluster"+a.toString(),type:"line",smooth:"true",data:e[a]};t.push(l)}return t},searchClicked:function(){var e=document.getElementById("chart1");e=R.init(e);var t=this;d.a.post("/api/baseline",{factory:t.factory,line:t.line,device:t.device,measurePoint:t.measurePoint,year:t.date.getFullYear(),month:t.date.getMonth(),day:t.date.getDate()}).then(function(a){var l=a.data;t.trueData=l.trueValue,t.predictData=l.baseValue,console.log(t.trueData),console.log(t.predictData),console.log([qe()({length:500},function(e,t){return t})]);var n={toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},title:{text:"能耗基线提取"},legend:{},tooltip:{trigger:"axis"},xAxis:{type:"category",data:qe()({length:500},function(e,t){return t})},yAxis:{scale:!0},series:[{name:"实际值",type:"line",smooth:"true",data:t.trueData},{name:"能耗基线",type:"line",smooth:"true",lineStyle:{type:"dashed"},data:t.predictData}]};e.setOption(n)})}},mounted:function(){this.getMetaData(),this.getAllMeasurePoint()}},ft={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("my-frame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("能耗基线提取")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"5"}},[a("el-select",{attrs:{value:"",placeholder:"测点选择"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:"5"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:"5"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("显示")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart1"}})],1)},staticRenderFns:[]};var bt=a("VU/8")(ht,ft,!1,function(e){a("OFKx")},"data-v-65189e64",null).exports;function gt(e){var t=[],a=!0,l=!1,n=void 0;try{for(var o,r=te()(e);!(a=(o=r.next()).done);a=!0){var i=o.value,s=i.slice(0,4)+"-"+i.slice(4,6)+"-"+i.slice(6,8);t.push(s)}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}return e}var yt={name:"olap",components:{MyFrame:L,Sidebar:C,Navmenu:g},data:function(){return{tempList:"",date:"",location:"",factory:"",line:"",device:"",measurePoint:"",measurePoint1:"",measurePoint2:"",idate:"",tableData:"",chartRef:"",metaDataTree:"",selectedMetaData:"",total1:0,currentPage1:1,pageSize:10,bondsAllList:[]}},methods:{handleSizeChange1:function(e){this.pageSize=e,this.handleCurrentChange1(this.currentPage1)},handleCurrentChange1:function(e){this.currentPage1=e,this.currentChangePage(this.tableData,e)},currentChangePage:function(e,t){var a=(t-1)*this.pageSize,l=t*this.pageSize;for(this.tempList=[];a<l;a++)e[a]&&this.tempList.push(e[a])},exportExcel:function(){var e=Ge.a.utils.table_to_book(document.getElementById("showTable")),t=Ge.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{je.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"示例表格.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},fixDateFormat:function(e){return e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6,8)},getValueByMeasurePoint:function(e){var t=[],a=!0,l=!1,n=void 0;try{for(var o,r=te()(this.tableData);!(a=(o=r.next()).done);a=!0){var i=o.value;i.measurePoint===e&&t.push(i.value)}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}return t},getAllDate:function(){var e=new le.a,t=!0,a=!1,l=void 0;try{for(var n,o=te()(this.tableData);!(t=(n=o.next()).done);t=!0){var r=n.value;e.add(r.date)}}catch(e){a=!0,l=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw l}}return qe()(e)},searchClicked:function(){var e=this;d.a.post("/api/getSpecificData",{factory:e.factory,line:e.line,device:e.device,timestamp:e.date}).then(function(t){e.tableData=t.data})},generateChart:function(){this.getAllDate();var e=this.getValueByMeasurePoint(this.measurePoint1),t={title:{text:"电气量曲线"},tooltip:{trigger:"axis"},legend:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",data:gt(this.getAllDate())},yAxis:{type:"value"},series:[{data:e,type:"line",name:this.measurePoint1}]};R.init(document.getElementById("chart")).setOption(t,!0)},compareChart:function(){this.getAllDate();var e=this.getValueByMeasurePoint(this.measurePoint1),t=this.getValueByMeasurePoint(this.measurePoint2),a={title:{text:"电气量曲线"},tooltip:{trigger:"axis"},legend:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",data:gt(this.getAllDate())},yAxis:{type:"value"},series:[{data:e,type:"line",name:this.measurePoint1},{data:t,type:"line",name:this.measurePoint2}]};R.init(document.getElementById("chart")).setOption(a,!0)},clearChart:function(){this.measurePoint1="",this.measurePoint2="";var e=R.init(document.getElementById("chart"));this.$chart=e;e.setOption({title:{text:"电气量曲线",subtext:"初始案例"},tooltip:{trigger:"axis"},legend:{data:["电气量1","电气量2"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"电气量1",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"电气量2",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}]},!0)},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data})},handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},newSearchClicked:function(){this.tempList=[];var e=this;d.a.post("/api/getSpecificData",{factory:this.factory,line:this.line,device:this.device,timestamp:this.date}).then(function(t){e.tableData=t.data,e.currentChangePage(e.tableData,1)})}},mounted:function(){R.init(document.getElementById("chart")).setOption({title:{text:"电气量曲线",subtext:"初始案例"},tooltip:{trigger:"axis"},legend:{data:["电气量1","电气量2"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"电气量1",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"电气量2",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}]},!0),this.getMetaData()}},xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("OLAP-钻取")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{checkStrictly:"true"},expandTrigger:"hover",clearable:"true"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"10",push:"3"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"4"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.newSearchClicked}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"24"}},[a("el-table",{attrs:{id:"showTable",data:e.tempList,border:"",stripe:"",height:"300","max-height":"300"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"measurePoint",label:"测点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"值"}})],1)],1)],1),e._v(" "),a("el-row",[a("div",{staticClass:"paginationClass"},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total1},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1}})],1)]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-card",{staticStyle:{height:"400px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("其他功能")])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-select",{attrs:{value:"",placeholder:"请选择电气量1"},model:{value:e.measurePoint1,callback:function(t){e.measurePoint1=t},expression:"measurePoint1"}},[a("el-option",{attrs:{value:"线电流Ia"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ib"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ic"}}),e._v(" "),a("el-option",{attrs:{value:"A相电压"}}),e._v(" "),a("el-option",{attrs:{value:"C相电压"}}),e._v(" "),a("el-option",{attrs:{value:"AB线电压"}}),e._v(" "),a("el-option",{attrs:{value:"BC线电压"}}),e._v(" "),a("el-option",{attrs:{value:"CA线电压"}}),e._v(" "),a("el-option",{attrs:{value:"反向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"反向无功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向无功电度"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-select",{attrs:{value:"",placeholder:"请选择电气量2"},model:{value:e.measurePoint2,callback:function(t){e.measurePoint2=t},expression:"measurePoint2"}},[a("el-option",{attrs:{value:"线电流Ia"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ib"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ic"}}),e._v(" "),a("el-option",{attrs:{value:"A相电压"}}),e._v(" "),a("el-option",{attrs:{value:"C相电压"}}),e._v(" "),a("el-option",{attrs:{value:"AB线电压"}}),e._v(" "),a("el-option",{attrs:{value:"BC线电压"}}),e._v(" "),a("el-option",{attrs:{value:"CA线电压"}}),e._v(" "),a("el-option",{attrs:{value:"反向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"反向无功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向无功电度"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"100px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出表格")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.generateChart}},[e._v("生成图表")])],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.clearChart}},[e._v("重置图表")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.compareChart}},[e._v("数据对比")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:"18",push:"1"}},[a("div",{staticStyle:{height:"400px"},attrs:{id:"chart"}})])],1)],1)},staticRenderFns:[]};var _t=a("VU/8")(yt,xt,!1,function(e){a("aZN3")},"data-v-65d9afb8",null).exports;function wt(e){var t=[],a=!0,l=!1,n=void 0;try{for(var o,r=te()(e);!(a=(o=r.next()).done);a=!0){var i=o.value,s=i.slice(0,4)+"-"+i.slice(4,6)+"-"+i.slice(6,8);t.push(s)}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}return e}var Dt={name:"olap2",components:{MyFrame:L,Sidebar:C,Navmenu:g},data:function(){return{date:"",location:"",factory:"",line:"",device:"",measurePoint:"",measurePoint1:"",measurePoint2:"",idate:"",tableData:"",chartRef:"",metaDataTree:"",selectedMetaData:"",options:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}]}},methods:{exportExcel:function(){var e=Ge.a.utils.table_to_book(document.getElementById("showTable")),t=Ge.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{je.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"示例表格.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},fixDateFormat:function(e){return e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6,8)},getValueByMeasurePoint:function(e){var t=[],a=!0,l=!1,n=void 0;try{for(var o,r=te()(this.tableData);!(a=(o=r.next()).done);a=!0){var i=o.value;i.measurePoint===e&&t.push(i.value)}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}return t},getAllDate:function(){var e=new le.a,t=!0,a=!1,l=void 0;try{for(var n,o=te()(this.tableData);!(t=(n=o.next()).done);t=!0){var r=n.value;e.add(r.date)}}catch(e){a=!0,l=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw l}}return qe()(e)},searchClicked:function(){var e=this;d.a.post("/api/getSpecificData",{factory:e.factory,line:e.line,device:e.device,timestamp:e.date}).then(function(t){e.tableData=t.data})},generateChart:function(){this.getAllDate();var e=this.getValueByMeasurePoint(this.measurePoint1),t={title:{text:"电气量曲线"},tooltip:{trigger:"axis"},legend:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",data:wt(this.getAllDate())},yAxis:{type:"value"},series:[{data:e,type:"line",name:this.measurePoint1}]};R.init(document.getElementById("chart")).setOption(t,!0)},compareChart:function(){this.getAllDate();var e=this.getValueByMeasurePoint(this.measurePoint1),t=this.getValueByMeasurePoint(this.measurePoint2),a={title:{text:"电气量曲线"},tooltip:{trigger:"axis"},legend:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",data:wt(this.getAllDate())},yAxis:{type:"value"},series:[{data:e,type:"line",name:this.measurePoint1},{data:t,type:"line",name:this.measurePoint2}]};R.init(document.getElementById("chart")).setOption(a,!0)},clearChart:function(){this.measurePoint1="",this.measurePoint2="";var e=R.init(document.getElementById("chart"));this.$chart=e;e.setOption({title:{text:"电气量曲线",subtext:"初始案例"},tooltip:{trigger:"axis"},legend:{data:["电气量1","电气量2"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"电气量1",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"电气量2",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}]},!0)},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data})},handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},newSearchClicked:function(){var e=this;d.a.post("/api/getSpecificData",{factory:this.factory,line:this.line,device:this.device,timestamp:this.date}).then(function(t){e.tableData=t.data})}},mounted:function(){R.init(document.getElementById("chart")).setOption({title:{text:"电气量曲线",subtext:"初始案例"},tooltip:{trigger:"axis"},legend:{data:["电气量1","电气量2"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"电气量1",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"电气量2",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}]},!0),this.getMetaData()}},kt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("OLAP-切片")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{checkStrictly:"true"},expandTrigger:"hover",clearable:"true"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"10",push:"3"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"4"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.newSearchClicked}},[e._v("查询")])],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"3"}},[a("el-button",{attrs:{type:"primary"}},[e._v("切片")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"24"}},[a("el-table",{attrs:{id:"showTable",data:e.tableData,border:"",stripe:"",height:"300","max-height":"300"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"measurePoint",label:"测点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"值"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-card",{staticStyle:{height:"400px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("其他功能")])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-select",{attrs:{value:"",placeholder:"请选择电气量1"},model:{value:e.measurePoint1,callback:function(t){e.measurePoint1=t},expression:"measurePoint1"}},[a("el-option",{attrs:{value:"线电流Ia"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ib"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ic"}}),e._v(" "),a("el-option",{attrs:{value:"A相电压"}}),e._v(" "),a("el-option",{attrs:{value:"C相电压"}}),e._v(" "),a("el-option",{attrs:{value:"AB线电压"}}),e._v(" "),a("el-option",{attrs:{value:"BC线电压"}}),e._v(" "),a("el-option",{attrs:{value:"CA线电压"}}),e._v(" "),a("el-option",{attrs:{value:"反向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"反向无功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向无功电度"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-select",{attrs:{value:"",placeholder:"请选择电气量2"},model:{value:e.measurePoint2,callback:function(t){e.measurePoint2=t},expression:"measurePoint2"}},[a("el-option",{attrs:{value:"线电流Ia"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ib"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ic"}}),e._v(" "),a("el-option",{attrs:{value:"A相电压"}}),e._v(" "),a("el-option",{attrs:{value:"C相电压"}}),e._v(" "),a("el-option",{attrs:{value:"AB线电压"}}),e._v(" "),a("el-option",{attrs:{value:"BC线电压"}}),e._v(" "),a("el-option",{attrs:{value:"CA线电压"}}),e._v(" "),a("el-option",{attrs:{value:"反向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"反向无功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向无功电度"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"100px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出表格")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.generateChart}},[e._v("生成图表")])],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.clearChart}},[e._v("重置图表")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.compareChart}},[e._v("数据对比")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:"18",push:"1"}},[a("div",{staticStyle:{height:"400px"},attrs:{id:"chart"}})])],1)],1)},staticRenderFns:[]};var Mt=a("VU/8")(Dt,kt,!1,function(e){a("MQLo")},"data-v-7b37e610",null).exports;function Pt(e){var t=[],a=!0,l=!1,n=void 0;try{for(var o,r=te()(e);!(a=(o=r.next()).done);a=!0){var i=o.value,s=i.slice(0,4)+"-"+i.slice(4,6)+"-"+i.slice(6,8);t.push(s)}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}return e}var At={name:"olap3",components:{MyFrame:L,Sidebar:C,Navmenu:g},data:function(){return{date:"",location:"",factory:"",line:"",device:"",measurePoint:"",measurePoint1:"",measurePoint2:"",idate:"",tableData:"",chartRef:"",metaDataTree:"",selectedMetaData:"",options:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}]}},methods:{exportExcel:function(){var e=Ge.a.utils.table_to_book(document.getElementById("showTable")),t=Ge.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{je.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"示例表格.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},fixDateFormat:function(e){return e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6,8)},getValueByMeasurePoint:function(e){var t=[],a=!0,l=!1,n=void 0;try{for(var o,r=te()(this.tableData);!(a=(o=r.next()).done);a=!0){var i=o.value;i.measurePoint===e&&t.push(i.value)}}catch(e){l=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(l)throw n}}return t},getAllDate:function(){var e=new le.a,t=!0,a=!1,l=void 0;try{for(var n,o=te()(this.tableData);!(t=(n=o.next()).done);t=!0){var r=n.value;e.add(r.date)}}catch(e){a=!0,l=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw l}}return qe()(e)},searchClicked:function(){var e=this;d.a.post("/api/getSpecificData",{factory:e.factory,line:e.line,device:e.device,timestamp:e.date}).then(function(t){e.tableData=t.data})},generateChart:function(){this.getAllDate();var e=this.getValueByMeasurePoint(this.measurePoint1),t={title:{text:"电气量曲线"},tooltip:{trigger:"axis"},legend:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",data:Pt(this.getAllDate())},yAxis:{type:"value"},series:[{data:e,type:"line",name:this.measurePoint1}]};R.init(document.getElementById("chart")).setOption(t,!0)},compareChart:function(){this.getAllDate();var e=this.getValueByMeasurePoint(this.measurePoint1),t=this.getValueByMeasurePoint(this.measurePoint2),a={title:{text:"电气量曲线"},tooltip:{trigger:"axis"},legend:{},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",data:Pt(this.getAllDate())},yAxis:{type:"value"},series:[{data:e,type:"line",name:this.measurePoint1},{data:t,type:"line",name:this.measurePoint2}]};R.init(document.getElementById("chart")).setOption(a,!0)},clearChart:function(){this.measurePoint1="",this.measurePoint2="";var e=R.init(document.getElementById("chart"));this.$chart=e;e.setOption({title:{text:"电气量曲线",subtext:"初始案例"},tooltip:{trigger:"axis"},legend:{data:["电气量1","电气量2"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"电气量1",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"电气量2",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}]},!0)},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data})},handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},newSearchClicked:function(){var e=this;d.a.post("/api/getSpecificData",{factory:this.factory,line:this.line,device:this.device,timestamp:this.date}).then(function(t){e.tableData=t.data})}},mounted:function(){R.init(document.getElementById("chart")).setOption({title:{text:"电气量曲线",subtext:"初始案例"},tooltip:{trigger:"axis"},legend:{data:["电气量1","电气量2"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"电气量1",type:"line",data:[11,11,15,13,12,13,10],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:"电气量2",type:"line",data:[1,-2,2,5,3,2,0],markPoint:{data:[{name:"周最低",value:-2,xAxis:1,yAxis:-1.5}]},markLine:{data:[{type:"average",name:"平均值"},[{symbol:"none",x:"90%",yAxis:"max"},{symbol:"circle",label:{normal:{position:"start",formatter:"最大值"}},type:"max",name:"最高点"}]]}}]},!0),this.getMetaData()}},St={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("OLAP-旋转")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{checkStrictly:"true"},expandTrigger:"hover",clearable:"true"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"10",push:"3"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"4"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.newSearchClicked}},[e._v("查询")])],1),e._v(" "),a("el-col",{attrs:{span:"3",push:"3"}},[a("el-button",{attrs:{type:"primary"}},[e._v("旋转")])],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"24"}},[a("el-table",{attrs:{id:"showTable",data:e.tableData,border:"",stripe:"",height:"300","max-height":"300"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"measurePoint",label:"测点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"值"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-card",{staticStyle:{height:"400px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("其他功能")])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-select",{attrs:{value:"",placeholder:"请选择电气量1"},model:{value:e.measurePoint1,callback:function(t){e.measurePoint1=t},expression:"measurePoint1"}},[a("el-option",{attrs:{value:"线电流Ia"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ib"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ic"}}),e._v(" "),a("el-option",{attrs:{value:"A相电压"}}),e._v(" "),a("el-option",{attrs:{value:"C相电压"}}),e._v(" "),a("el-option",{attrs:{value:"AB线电压"}}),e._v(" "),a("el-option",{attrs:{value:"BC线电压"}}),e._v(" "),a("el-option",{attrs:{value:"CA线电压"}}),e._v(" "),a("el-option",{attrs:{value:"反向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"反向无功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向无功电度"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-select",{attrs:{value:"",placeholder:"请选择电气量2"},model:{value:e.measurePoint2,callback:function(t){e.measurePoint2=t},expression:"measurePoint2"}},[a("el-option",{attrs:{value:"线电流Ia"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ib"}}),e._v(" "),a("el-option",{attrs:{value:"线电流Ic"}}),e._v(" "),a("el-option",{attrs:{value:"A相电压"}}),e._v(" "),a("el-option",{attrs:{value:"C相电压"}}),e._v(" "),a("el-option",{attrs:{value:"AB线电压"}}),e._v(" "),a("el-option",{attrs:{value:"BC线电压"}}),e._v(" "),a("el-option",{attrs:{value:"CA线电压"}}),e._v(" "),a("el-option",{attrs:{value:"反向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向有功电度"}}),e._v(" "),a("el-option",{attrs:{value:"反向无功电度"}}),e._v(" "),a("el-option",{attrs:{value:"正向无功电度"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"100px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出表格")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.generateChart}},[e._v("生成图表")])],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.clearChart}},[e._v("重置图表")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.compareChart}},[e._v("数据对比")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:"18",push:"1"}},[a("div",{staticStyle:{height:"400px"},attrs:{id:"chart"}})])],1)],1)},staticRenderFns:[]};var Ct=a("VU/8")(At,St,!1,function(e){a("sXGF")},"data-v-26b74ed3",null).exports,Tt={name:"profileFeature",components:{MyFrame:L},data:function(){return{factory:"",line:"",device:"",measurePoint:"",algorithm:"",date:"",metaDataTree:"",selectedMetaData:"",allMeasurePoint:[],hourX:"",dayX:"",hourList:[],dayList:[]}},methods:{handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data}),console.log(this.metaDataTree)},getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},searchClicked:function(){var e=document.getElementById("chart1"),t=document.getElementById("show");e=R.init(e);d.a.post("/api/profileFeature",{factory:this.factory,line:this.line,device:this.device,measurePoint:this.measurePoint}).then(function(e){console.log(e),console.log(e.data);var a=e.data;t.innerHTML=J()(a,null,2)})}},mounted:function(){this.getMetaData(),this.getAllMeasurePoint()}},Ft={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("my-frame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("行为画像特性")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:"5"}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:"5"}},[a("el-select",{attrs:{value:"",placeholder:"测点选择"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:"5"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchClicked}},[e._v("显示")])],1)],1)],1),e._v(" "),a("pre",{attrs:{id:"show"}}),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart1"}})],1)},staticRenderFns:[]};var Lt=a("VU/8")(Tt,Ft,!1,function(e){a("YTcl")},"data-v-3ace3c07",null).exports,Vt={name:"zuanqu",components:{OlapTable:Ye,MyFrame:L,Sidebar:C},data:function(){return{factory:"",line:"",device:"",measurePoint:"",algorithm:"",collectContent:"",collectMethod:"",date:"",p1:"",p2:"",p3:"",p4:"",p5:"",allTableData:[],trueData:"",predictData:"",metaDataTree:"",selectedMetaData:"",allMeasurePoint:[],chartOption:{}}},methods:{handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data}),console.log(this.metaDataTree)},getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},collectClicked:function(){},searchClicked:function(){var e=document.getElementById("chart1");e=R.init(e);var t=this;d.a.post("/api/zuanqu",{p1:t.p1,p2:t.p2,p3:t.p3,p4:t.p4,p5:t.p5,p6:t.p6}).then(function(e){t.allTableData=e.data})}},mounted:function(){this.getMetaData(),this.getAllMeasurePoint()}},It={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("钻取")])]),e._v(" "),a("el-row",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover",multiple:"true"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{value:"",multiple:"",placeholder:"测点选择"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{value:"",placeholder:"请选择粒度"},model:{value:e.collectContent,callback:function(t){e.collectContent=t},expression:"collectContent"}},[a("el-option",{attrs:{value:"分钟"}}),e._v(" "),a("el-option",{attrs:{value:"天"}}),e._v(" "),a("el-option",{attrs:{value:"月"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,push:"1"}},[a("el-select",{attrs:{value:"",placeholder:"请选择钻取对象"},model:{value:e.collectMethod,callback:function(t){e.collectMethod=t},expression:"collectMethod"}},[a("el-option",{attrs:{value:"用户"}}),e._v(" "),a("el-option",{attrs:{value:"设备"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,push:"7"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.collectClicked}},[e._v("钻取")])],1)],1)],1)],1),e._v(" "),a("olap-table",{attrs:{"table-data":e.allTableData}}),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart1"}})],1)},staticRenderFns:[]};var Bt=a("VU/8")(Vt,It,!1,function(e){a("J5Yz")},"data-v-530ec166",null).exports,Et={name:"qiepian",components:{OlapTable:Ye,MyFrame:L,Sidebar:C},data:function(){return{factory:"",line:"",device:"",measurePoint:"",algorithm:"",collectContent:"",collectMethod:"",date:"",p1:"",p2:"",p3:"",p4:"",p5:"",trueData:"",predictData:"",metaDataTree:"",selectedMetaData:"",allMeasurePoint:[],chartOption:{},allTableData:[]}},methods:{handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2],console.log(this.selectedMetaData)},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data}),console.log(this.metaDataTree)},getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},collectClicked:function(){console.log("test");var e=this;d.a.post("/api/qiepian",{p1:e.factory,p2:e.p2,p3:e.p3,p4:e.p4,p5:e.p5,p6:e.p6}).then(function(t){e.allTableData=t.data})},searchClicked:function(){var e=document.getElementById("chart1");e=R.init(e);var t=this;d.a.post("/api/qiepian",{p1:t.p1,p2:t.p2,p3:t.p3,p4:t.p4,p5:t.p5,p6:t.p6}).then(function(e){t.allTableData=e.data})}},mounted:function(){this.getMetaData(),this.getAllMeasurePoint()}},Ot={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("切片")])]),e._v(" "),a("el-row",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover",multiple:"true"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{value:"",multiple:"",placeholder:"测点选择"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{value:"",placeholder:"请选择聚合对象"},model:{value:e.collectContent,callback:function(t){e.collectContent=t},expression:"collectContent"}},[a("el-option",{attrs:{value:"用户"}}),e._v(" "),a("el-option",{attrs:{value:"天"}}),e._v(" "),a("el-option",{attrs:{value:"设备"}}),e._v(" "),a("el-option",{attrs:{value:"设备+天"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,push:"1"}},[a("el-select",{attrs:{value:"",placeholder:"请选择聚合方案"},model:{value:e.collectMethod,callback:function(t){e.collectMethod=t},expression:"collectMethod"}},[a("el-option",{attrs:{value:"求和"}}),e._v(" "),a("el-option",{attrs:{value:"求平均"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,push:"7"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.collectClicked}},[e._v("切片")])],1)],1)],1)],1),e._v(" "),a("olap-table",{attrs:{"table-data":e.allTableData}}),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart1"}})],1)},staticRenderFns:[]};var $t=a("VU/8")(Et,Ot,!1,function(e){a("4k3x")},"data-v-d3d46162",null).exports,Rt={name:"xuanzhuan",components:{OlapTable:Ye,MyFrame:L,Sidebar:C},data:function(){return{factory:"",line:"",device:"",measurePoint:"",algorithm:"",collectContent:"",collectMethod:"",date:"",p1:"",p2:"",p3:"",p4:"",p5:"",allTableData:[],trueData:"",predictData:"",metaDataTree:"",selectedMetaData:"",allMeasurePoint:[],chartOption:{}}},methods:{rotateClicked:function(){var e=this;d.a.post("/api/xuanzhuan",{p1:e.p1,p2:e.p2,p3:e.p3,p4:e.p4,p5:e.p5,p6:e.p6}).then(function(t){e.allTableData=t.data})},handleChange:function(){this.factory=this.selectedMetaData[0],this.line=this.selectedMetaData[1],this.device=this.selectedMetaData[2]},getMetaData:function(){var e=this;d.a.post("/api/getMetaDataTree").then(function(t){e.metaDataTree=t.data}),console.log(this.metaDataTree)},getAllMeasurePoint:function(){var e=this;d.a.post("/api/getAllMeasurePoint").then(function(t){e.allMeasurePoint=t.data}),console.log(this.allMeasurePoint)},collectClicked:function(){},searchClicked:function(){var e=document.getElementById("chart1");e=R.init(e);var t=this;d.a.post("/api/qiepian",{p1:t.p1,p2:t.p2,p3:t.p3,p4:t.p4,p5:t.p5,p6:t.p6}).then(function(e){t.allTableData=e.data})}},mounted:function(){this.getMetaData(),this.getAllMeasurePoint()}},Ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MyFrame",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("旋转")])]),e._v(" "),a("el-row",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-cascader",{attrs:{options:e.metaDataTree,props:{expandTrigger:"hover",multiple:"true"},placeholder:"请选择设备"},on:{change:e.handleChange},model:{value:e.selectedMetaData,callback:function(t){e.selectedMetaData=t},expression:"selectedMetaData"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{value:"",multiple:"",placeholder:"测点选择"},model:{value:e.measurePoint,callback:function(t){e.measurePoint=t},expression:"measurePoint"}},e._l(e.allMeasurePoint,function(e){return a("el-option",{attrs:{value:e}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{value:"",placeholder:"请选择聚合对象"},model:{value:e.collectContent,callback:function(t){e.collectContent=t},expression:"collectContent"}},[a("el-option",{attrs:{value:"用户"}}),e._v(" "),a("el-option",{attrs:{value:"天"}}),e._v(" "),a("el-option",{attrs:{value:"设备"}}),e._v(" "),a("el-option",{attrs:{value:"设备+天"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,push:"1"}},[a("el-select",{attrs:{value:"",placeholder:"请选择聚合方案"},model:{value:e.collectMethod,callback:function(t){e.collectMethod=t},expression:"collectMethod"}},[a("el-option",{attrs:{value:"求和"}}),e._v(" "),a("el-option",{attrs:{value:"求平均"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4,push:"5"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.collectClicked}},[e._v("切片")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.rotateClicked}},[e._v("旋转")])],1)],1)],1)],1),e._v(" "),a("olap-table",{attrs:{"table-data":e.allTableData}}),e._v(" "),a("div",{staticStyle:{height:"600px",width:"100%"},attrs:{id:"chart1"}})],1)},staticRenderFns:[]};var zt=a("VU/8")(Rt,Ut,!1,function(e){a("EHwR")},"data-v-5bea5eb4",null).exports;l.default.use(r.a);var Nt=new r.a({routes:[{path:"/",name:"index",component:B},{path:"/login",name:"login",component:k},{path:"/uploadfile",name:"uploadfile",component:X},{path:"/inquire",name:"inquire",component:pe},{path:"/remotedownload",name:"remotedownload",component:be},{path:"/filesearch",name:"filesearch",component:_e},{path:"/handledata",name:"handle",component:ke},{path:"/metadata",name:"metadata",component:Ae},{path:"/conceptLayer",name:"conceptLayer",component:Te},{path:"/logicLayer",name:"logicLayer",component:Ve},{path:"/physicsLayer",name:"physicsLayer",component:Ee},{path:"/lyftest",name:"test",component:Re},{path:"/needAnalyse",name:"needAnalyse",component:Ne},{path:"/newSearch",name:"newSearch",component:Ke},{path:"/usageSurvey",name:"usageSurvey",component:at},{path:"/predict",name:"predict",component:ot},{path:"/baseLine",name:"baseLine",component:bt},{path:"/usageStatistics",name:"usageStatistics",component:st},{path:"/usageComparision",name:"usageComparision",component:dt},{path:"/cluster",name:"cluster",component:vt},{path:"/olap",name:"olap",component:_t},{path:"/olap2",name:"olap2",component:Mt},{path:"/olap3",name:"olap3",component:Ct},{path:"/profileFeature",name:"profileFeature",component:Lt},{path:"/testapp",name:"lyftest",component:Re},{path:"/zuanqu",name:"zuanqu",component:Bt},{path:"/qiepian",name:"qiepian",component:$t},{path:"/xuanzhuan",name:"xuanzhuan",component:zt}]}),Wt=a("zL8q"),qt=a.n(Wt);a("tvR6"),a("n4oI");l.default.config.productionTip=!1,l.default.use(qt.a),new l.default({el:"#app",router:Nt,components:{App:o},template:"<App/>"})},OFKx:function(e,t){},OJPc:function(e,t){},"PXy/":function(e,t){},QruQ:function(e,t){},S6dx:function(e,t){},SeDW:function(e,t){},VBro:function(e,t){},YTcl:function(e,t){},aZN3:function(e,t){},cevi:function(e,t){},fnRH:function(e,t){},iWyc:function(e,t){},imTP:function(e,t){},kEHK:function(e,t){},l6DV:function(e,t){},mCUb:function(e,t){},n4oI:function(e,t){},nqvG:function(e,t){},pS1x:function(e,t){},qOSo:function(e,t){},qWEi:function(e,t){},rnOW:function(e,t){},sXGF:function(e,t){},tvR6:function(e,t){},zmoA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.6d2a26c121f64efada00.js.map